<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Publications</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

<div id="loader-container"></div>
<div id="navbar"></div>
<div id="overlay" class="overlay"></div>

<main class="container">

<section>
<h2>Publications</h2>

<div id="publications-container"></div>

</section>

</main>

<div id="footer"></div>

<script>
fetch('data/publications.json')
  .then(response => response.json())
  .then(data => {

    const container = document.getElementById("publications-container");
    const categories = ["Journal", "Conference", "Book Chapter", "Preprint", "Patent"];

    categories.forEach(category => {

      const sectionTitle = document.createElement("h3");
      sectionTitle.style.marginTop = "30px";
      sectionTitle.style.borderBottom = "2px solid #222";
      sectionTitle.style.paddingBottom = "5px";
      sectionTitle.innerText = category;

      container.appendChild(sectionTitle);

      const filtered = data.publications
          .filter(pub => pub.type === category)
          .sort((a,b) => b.year - a.year);

      if(filtered.length === 0){
        const empty = document.createElement("p");
        empty.innerText = "No entries yet.";
        container.appendChild(empty);
      }

      filtered.forEach(pub => {

        const div = document.createElement("div");
        div.className = "card";
        div.style.marginTop = "15px";

        div.innerHTML = `
  <div class="pub-title">
    <strong>${pub.title}</strong>
  </div>

  ${pub.is_first_author ? `
    <div class="pub-first-author">
      First Author
    </div>
  ` : ''}

  <div class="pub-authors">
    ${pub.authors}
  </div>

  <div class="pub-venue">
    ${pub.venue} (${pub.year})
  </div>

  <div class="pub-meta">
    Citations: ${pub.citations}
  </div>

  <a class="pub-link" href="${pub.link}" target="_blank">View Publication</a>
`;
        container.appendChild(div);
      });

    });
  })
  .catch(error => console.error("Error loading publications:", error));
</script>

<script src="assets/js/main.js"></script>

</body>
</html>
