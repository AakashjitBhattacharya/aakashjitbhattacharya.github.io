<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Publications</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="assets/css/style.css">

<style>
.category-title {
  margin-top: 40px;
  border-bottom: 2px solid #222;
  padding-bottom: 5px;
}

.publication-card {
  margin: 20px 0;
  padding: 15px;
  border-radius: 8px;
  background-color: #f4f4f4;
}

.authors {
  font-style: italic;
}

.venue {
  color: #555;
}

.citation {
  font-weight: bold;
  color: #333;
}
</style>

</head>

<body>

<h1>Publications</h1>

<div id="publications-container"></div>

<script>
fetch('data/publications.json')
  .then(response => response.json())
  .then(data => {

    const container = document.getElementById("publications-container");
    const categories = ["Journal", "Conference", "Book Chapter", "Patent"];

    categories.forEach(category => {

      const sectionTitle = document.createElement("h2");
      sectionTitle.className = "category-title";
      sectionTitle.innerText = category;
      container.appendChild(sectionTitle);

      const filtered = data.publications
          .filter(pub => pub.type === category)
          .sort((a,b) => b.year - a.year);

      if(filtered.length === 0){
        const empty = document.createElement("p");
        empty.innerText = "No entries yet.";
        container.appendChild(empty);
      }

      filtered.forEach(pub => {

        const div = document.createElement("div");
        div.className = "publication-card";

        div.innerHTML = `
          <h3>${pub.title}</h3>
          <p class="authors">${pub.authors}</p>
          <p class="venue">${pub.venue} (${pub.year})</p>
          <p class="citation">Citations: ${pub.citations}</p>
          <a href="${pub.link}" target="_blank">View Publication</a>
        `;

        container.appendChild(div);
      });

    });
  })
  .catch(error => console.error("Error loading publications:", error));
</script>

</body>
</html>
