function loadNavbar(){fetch("assets/components/navbar.html").then(e=>e.text()).then(e=>{let t=document.getElementById("navbar");if(!t)return;t.innerHTML=e;let n=document.getElementById("nav-photo");(window.location.pathname.endsWith("index.html")||"/"===window.location.pathname||window.location.pathname.endsWith("/"))&&n&&(n.style.display="none");let o=document.getElementById("menu-toggle"),s=document.getElementById("nav-menu"),l=document.getElementById("overlay");function i(){s.classList.remove("active"),l.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow=""}o&&s&&l&&(o.addEventListener("click",function e(){s.classList.toggle("active"),l.classList.toggle("active"),o.classList.toggle("active"),document.body.style.overflow=s.classList.contains("active")?"hidden":""}),l.addEventListener("click",i),s.querySelectorAll("a").forEach(e=>{e.addEventListener("click",i)}))})}function loadFooter(){fetch("assets/components/footer.html").then(e=>e.text()).then(e=>{let t=document.getElementById("footer");if(!t)return;t.innerHTML=e;let n=document.getElementById("current-year");n&&(n.textContent=new Date().getFullYear())})}fetch("assets/includes/head.html").then(e=>e.text()).then(e=>{document.head.insertAdjacentHTML("beforeend",e)}),document.addEventListener("DOMContentLoaded",function(){loadNavbar(),loadFooter(),document.body.classList.add("loaded"),typeEffect(),typeQuote(),initializeContactForm()});const texts=["Multi-Access Edge Computing","Federated MEC","5G / 6G IoT Systems","Edge Intelligence","Real-Time Scheduling"];let textIndex=0,charIndex=0,isDeleting=!1;function typeEffect(){let e=document.getElementById("typing");if(!e)return;let t=texts[textIndex];isDeleting?(e.textContent=t.substring(0,charIndex-1),0==--charIndex&&(isDeleting=!1,textIndex=(textIndex+1)%texts.length)):(e.textContent=t.substring(0,charIndex+1),++charIndex===t.length&&setTimeout(()=>isDeleting=!0,1500)),setTimeout(typeEffect,isDeleting?40:80)}const quoteText="I build distributed systems that cannot afford to miss deadlines.";let quoteIndex=0;function typeQuote(){let e=document.getElementById("typing-quote");e&&(e.textContent=quoteText.substring(0,quoteIndex+1),++quoteIndex<quoteText.length&&setTimeout(typeQuote,40))}function initializeContactForm(){let e=document.getElementById("contact-form");if(!e)return;let t=Date.now();e.addEventListener("submit",async function(n){n.preventDefault();let o=e.querySelector("input[name='_gotcha']"),s=Date.now(),l=e.querySelector(".submit-btn"),i=e.querySelector(".btn-loader"),a=e.querySelector(".btn-text"),r=document.getElementById("form-status");if(o&&""!==o.value)return;if(s-t<3e3){r.textContent="Submission too fast. Please try again.",r.style.color="#ef4444";return}let d=localStorage.getItem("lastSubmitTime");if(d&&s-d<6e4){r.textContent="Please wait before sending another message.",r.style.color="#ef4444";return}i.style.display="inline-block",a.textContent="Sending...",l.disabled=!0;let c=new FormData(e);try{let u=await fetch("https://formspree.io/f/xzdakvyp",{method:"POST",body:c,headers:{Accept:"application/json"}});if(u.ok)localStorage.setItem("lastSubmitTime",s),e.reset(),a.textContent="Sent âœ“",r.textContent="Message sent successfully.",r.style.color="#22c55e",setTimeout(()=>{a.textContent="Send Message",r.textContent=""},4e3);else throw Error()}catch(y){r.textContent="Network error. Please try again.",r.style.color="#ef4444",a.textContent="Send Message"}i.style.display="none",l.disabled=!1})}
